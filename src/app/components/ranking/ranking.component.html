<div class="ranking-Container">
  <div
  class="ranking-Container_Items"
  appBubble
  [posts]="rankingPosts | async"
  [wrapperClass]="'ranking-Container_Items'"
  [ItemClass]="'ranking-Container_Item'"
  >
    <ng-container *ngFor="let post of posts;index as i">
      <div
        class="ranking-Container_Item card"
        id="ranking_item_{{i}}"
        [class.is-reach]="isReach(post)"
        [class.is-achievement]="isAchievement(post)"
      >
        <div [routerLink]="['/detail', post.id]" class="ranking-Container_Inner">
          <div class="ranking-Container_Title">
            <h1>{{ post.title }}</h1>
          </div>
          <div class="ranking-Container_Limit">
            <p>
              期限&nbsp;:
              <ng-container *ngIf="post.limit">
                <span>{{ post.limit | date: "yyyy/MM/dd" }}</span>
              </ng-container>
              <ng-container *ngIf="!post.limit">
                <span>-</span>
              </ng-container>
            </p>
          </div>
          <div class="ranking-Container_Last" *ngIf="isReach(post)">
            <p>Last One</p>
          </div>
          <div class="ranking-Container_Tasks">
            <ng-container *ngFor="let task of post.tasks">
              <div class="ranking-Container_Task">
                <ng-container *ngIf="task.is_done;else isntDone">
                  <p class="checked opacity">{{ task.content }}</p>
                </ng-container>
                <ng-template #isntDone>
                  <p class="not-checked">{{ task.content }}</p>
                </ng-template>
              </div>
            </ng-container>
          </div>
        </div>
        <div class="ranking-Container_ItemBottom">
          <div class="ranking-Container_Favorite">
            <ng-container *ngIf="post.favo_status;else noFavo">
              <p (click)="deleteFavo(post)" class="favorite">いいね&nbsp;{{post.favorites_length}}</p>
            </ng-container>
            <ng-template #noFavo>
              <p (click)="addFavo(post)">いいね&nbsp;{{post.favorites_length}}</p>
            </ng-template>
          </div>
          <div class="ranking-Container_ItemBottomRight" [routerLink]="['/detail', post.id]">
            <div class="ranking-Container_Comment">
              <p class="far fa-comment-dots"></p>
              <span>&nbsp;{{post.comments.length}}</span>
            </div>
          </div>
          <div [routerLink]="['/account', post.User.id]" class="ranking-Container_Account">
            <p>{{post.User.name}}</p>
          </div>
          <div [routerLink]="['/detail', post.id]" class="ranking-Container_Date">
            <p>{{ post.created_at | date: "yyyy/MM/dd hh:mm" }}</p>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</div>

